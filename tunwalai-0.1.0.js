(()=>{const e=decodeURIComponent(window.location.pathname);if(0==/chapter\/\d+/i.test(e))return;const t=document.querySelector(".chapter-subject"),n=document.querySelector(".chapter-content > .chapter-detail"),r=document.querySelector(".chapter-content > .chapter-detail script")||!1;r&&r.remove();let c=n.innerHTML;[3585,3591,3604,3609,3610,3617,3618,3623,3629].map((e=>{c=c.replace(new RegExp(String.fromCharCode(e+53759),"g"),String.fromCharCode(e))})),n.innerHTML=c;const o=filenamify(t.textContent.trim(),{replacement:"-"})+".txt",a=cleanup(t.textContent.trim()+"\n"+n.textContent).replace(/\n/g,"\r\n\r\n"),p=new Blob([a],{type:"text/plain;charset=utf-8"});saveAs(p,o)})();
