(()=>{let e=decodeURIComponent(window.location.pathname);if(!1==/chapter\/\d+/i.test(e))return;let t=document.querySelector(".chapter-subject"),r=document.querySelector(".chapter-content > .chapter-detail"),a=r.innerHTML;[57344,57350,57363,57368,57369,57376,57377,57382,57388].map(e=>{a=a.replace(RegExp(String.fromCharCode(e),"g"),String.fromCharCode(e-53759))}),r.innerHTML=a;let c=filenamify(t.textContent.trim(),{replacement:"-"})+".txt",o=cleanup(t.textContent.trim()+"\n"+r.textContent).replace(/\n/g,"\r\n\r\n");saveAs(new Blob([o],{type:"text/plain;charset=utf-8"}),c)})();
