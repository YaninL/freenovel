const downloadPDF={initialize(){window.parent==window.self&&null!=document.body&&(this.setUiInterface(),this.setEventListener())},setEventListener(){const e=this;document.querySelector(".downloadbtn").addEventListener("click",(()=>{e.getContent()}))},getContent(){var e=document.querySelector(".react-pdf__Document")||!1;if(0!=e){GM_notification({title:"‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô",text:"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î ‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå",timeout:1500});var n=Object.keys(e).filter((e=>e.indexOf("__reactFiber")>-1)),t=e[n].pendingProps.children._owner.pendingProps.children.props.pdfData,o=e[n].pendingProps.children._owner.pendingProps.children.props.password,i=document.querySelector(".title").innerText,r=document.querySelector(".author").innerText,d=filenamify(`${o} ${i} [${r}].pdf`,{replacement:""}).trim(),a=this.base64toBlob(t,"application/octet-stream");saveAs(a,d)}else GM_notification({title:"‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô",text:"‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÑ‡∏ü‡∏•‡πå pdf",timeout:1500})},base64toBlob(e,n="",t=512){const o=atob(e),i=[];for(let e=0;e<o.length;e+=t){const n=o.slice(e,e+t),r=new Array(n.length);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);const d=new Uint8Array(r);i.push(d)}return new Blob(i,{type:n})},setUiInterface(){document.body.insertAdjacentHTML("beforeend",'\n <div class="navchapterz"><div class="downloadbtn" title="‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î PDF"></div></div>'),GM_addStyle('\n .navchapterz {\n background: none;\n box-shadow: none;\n z-index: 10000;\n position: fixed;\n bottom: 0;\n left: 0;\n font-size: 24px;\n color: #ddd;\n border-radius: 10px;\n margin: 10px;\n padding: 1px;\n display: inline-flex;\n text-shadow: 0 0 3px #517af5, 0 0 10px #9a9ae2;\n }\n .navchapterz .downloadbtn::before {\n content: "üß≤";\n }\n .navchapterz .downloadbtn:hover{\n opacity:1;\n transform: rotateY(360deg);\n transition:1s\n }')}};downloadPDF.initialize();
